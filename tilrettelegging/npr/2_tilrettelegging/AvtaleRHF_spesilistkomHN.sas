

%macro AvtaleRHF_spesialistkomHN(innDataSett=, utDataSett=);

/*!
Makro for å definere `SpesialistKomHN` og `AvtaleRHF` for avtalespesialister,
basert på `InstitusjonID`.
*/


data &utdatasett;
set &inndatasett;


/*
Definerer SpesialistKomHN og vertskommuner (Vertskommuner Helse Nord) for avtalespesialister
*/

  if InstitusjonID in (707149) then SpesialistKomHN='1902';
  else if  InstitusjonID in (706001) then SpesialistKomHN='2012';
  else if  InstitusjonID in (113674) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113743) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113769) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113794) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113832) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113330) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113659) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113678) then SpesialistKomHN='1833';
  else if  InstitusjonID in (706003) then SpesialistKomHN='2021';
  else if  InstitusjonID in (113327) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113605) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113866) then SpesialistKomHN='2021';
  else if  InstitusjonID in (113682) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113740) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113440) then SpesialistKomHN='1903';
  else if  InstitusjonID in (113572) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113588) then SpesialistKomHN='1805';
  else if  InstitusjonID in (113630) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113192) then SpesialistKomHN='1805';
  else if  InstitusjonID in (113400) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113463) then SpesialistKomHN='1820';
  else if  InstitusjonID in (113477) then SpesialistKomHN='1868';
  else if  InstitusjonID in (4201135) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113594) then SpesialistKomHN='1868';
  else if  InstitusjonID in (113744) then SpesialistKomHN='2012';
  else if  InstitusjonID in (113784) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113908) then SpesialistKomHN='1868';
  else if  InstitusjonID in (113223) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113306) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113366) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113542) then SpesialistKomHN='1805';
  else if  InstitusjonID in (113587) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113597) then SpesialistKomHN='1902';
  /* else if  InstitusjonID in (706002) then SpesialistKomHN='2012';*/
  else if  InstitusjonID in (706002) then SpesialistKomHN='1902';/* Arnfinn 3/4-2018: Marco Filipponi holder til i Tromsø...*/
  else if  InstitusjonID in (113653) then SpesialistKomHN='1813';
  else if  InstitusjonID in (113656) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113701) then SpesialistKomHN='1833';
  else if  InstitusjonID in (113756) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113761) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113785) then SpesialistKomHN='2020';
  else if  InstitusjonID in (113792) then SpesialistKomHN='1841';
  else if  InstitusjonID in (113799) then SpesialistKomHN='1902';
  else if  InstitusjonID in (113857) then SpesialistKomHN='1824';
  else if  InstitusjonID in (113862) then SpesialistKomHN='1870';
  else if  InstitusjonID in (113863) then SpesialistKomHN='1860';
  else if  InstitusjonID in (113890) then SpesialistKomHN='1902';
  else if  InstitusjonID in (4208625) then SpesialistKomHN='1902';
  else if  InstitusjonID in (4208629) then SpesialistKomHN='1804';
  else if  InstitusjonID in (4208630) then SpesialistKomHN='1931';
  else if  InstitusjonID in (4208690) then SpesialistKomHN='1870';
  else if  InstitusjonID in (4209020) then SpesialistKomHN='2012';
  else if  InstitusjonID in (4209420) then SpesialistKomHN='1841';
  /*Supplert av PO 9/3 2017*/
  else if  InstitusjonID in (4209470) then SpesialistKomHN='1804';
  else if  InstitusjonID in (4208007) then SpesialistKomHN='1804';
  else if  InstitusjonID in (4205450) then SpesialistKomHN='1902';
  else if  InstitusjonID in (4205982) then SpesialistKomHN='2012';
  else if  InstitusjonID in (113810) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113249) then SpesialistKomHN='1804';
  else if  InstitusjonID in (113672) then SpesialistKomHN='1805';
  else if  InstitusjonID in (113834) then SpesialistKomHN='2012';
  /*Supplert av PO 7/7 2017*/
  else if  InstitusjonID in (4211315) then SpesialistKomHN='1902'; /*Sandvik, Johan*/ /*Det ser ut til at han også jobber fra Bodø*/
  else if  InstitusjonID in (4211824) then SpesialistKomHN='1833'; /*Stoll, Richard*/
  else if  InstitusjonID in (4212778) then SpesialistKomHN='1902'; /*Stenklev, Niels Christian*/
  else if  InstitusjonID in (4212875) then SpesialistKomHN='1902'; /*Bjarghov, Steinar*/
  /*Supplert av Arnfinn 27/3 2018*/
  else if  InstitusjonID in (4208245) then SpesialistKomHN='1902'; /* Henrik Tjälve */
  else if  InstitusjonID in (4210478) then SpesialistKomHN='1805'; /* Trond Børvik (gitt som Trond Børlie fra NPR)*/
  else if  InstitusjonID in (4214082) then SpesialistKomHN='1804'; /* Burican, Juraj */

  SpesKomHN = SpesialistKomHN +0;
  Drop SpesialistKomHN;
  Rename SpesKomHN=SpesialistKomHN;


  If KomNr=SpesialistKomHN then AvtSpesKomHN=1;
  else AvtSpesKomHN = .;



/*
Definere spesialistenes avtale-RHF
*/
/* JS/LL 11Jul2019
 use sh_reg instead of hard coding using institusjonID
   3=Helse vest
   4=Helse Midt-Norge
   5=Helse Nord
   7=Helse Sør-Øst
*/

     if sh_reg=5 then AvtaleRHF=1; /* Helse Nord RHF*/     
else if sh_reg=4 then AvtaleRHF=2; /*Helse Midt-Norge RHF*/
else if sh_reg=3 then AvtaleRHF=3; /*Helse Vest RHF*/
else if sh_reg=7 then AvtaleRHF=4; /*Helse Sør-Øst-RHF*/





/*
Definere spesialistenes avtale-RHF
*/

  /*Egen numerisk variabel for avtaleRHF*/
  If InstitusjonID in (113447,113672,113834,113298,113316,113330,113674,
  113743,113769,113794,113832,706001,113659,113678,113327,113440,113605,113682,706003,
  113740,113866,113572,113630,113588,113192,113249,113400,113463,113477,113594,113744,
  113784,113810,113908,4201135,113223,113306,113366,113542,113587,113597,113653,113656,
  113701,113756,113761,113785,113792,113799,113857,113862,113863,113890,706002,707149,
  4205982,4205450,4208007,4208625,4208629,4208630,4208690,4209020,4209420,4209470,4212778,4212875,4211824,4211315,
  4208245,4210478,4214082) then AvtaleRHF_old=1;/* Helse Nord RHF*/

  Else if institusjonID in (113239,113783,4201406,4204404,707150,113365,113767,4204399,
  113333,113399,113926,4201240,4204111,4204397,4204398,4204400,113406,113420,113513,
  113676,114504,113194,113531,113649,113776,113917,4201239,113788,113467,113581,113821,
  113830,113898,706011,113266,113454,113495,113613,113758,113846,113867,113183,113260,
  113474,113549,114431,113764,113706,114503,113638,113736,113259,113282,113612,706010,
  113777,113212,113331,113351,113428,113498,113551,113553,113557,113680,113687,113698,
  113884,113905,114436,706012,113157,113204,113221,113224,113296,113309,113332,113376,
  113408,113419,113475,113518,113530,113543,113611,113689,113723,113840,113872,114432,
  114433,114434,114435,4201238,113550,4204078,4204404,4204494,4208473,4208617,4208618,
  4208886,4209007,4209071,4209427,4209475,4209476,4204495,4207590,4204399,
   113926,4204111,4204397,4204398,4207591,4209530,4210005,4210250,4211897,4212297,4212812,4213021,
  4200393,4208619,4213865) then AvtaleRHF_old=2;/*Helse Midt-Norge RHF*/


  Else if institusjonID in (113574,113802,113912,4204368,4204369,4204370,4204372,113349,
  4204219,4204490,4204371,4204373,4201202,114441,4204486,113808,4201203,4204367,113621,
  113364,113324,113515,113196,113211,113228,113242,113297,113305,113424,113483,113585,
  113669,113684,113729,113770,113778,113839,113923,114439,706000,113270,113441,113456,
  113578,113628,113655,113722,113919,113173,113177,113182,113186,113199,113202,113227,
  113236,113253,113303,113320,113340,113360,113375,113391,113397,113407,113414,113484,
  113496,113527,113579,113702,113719,113725,113817,113847,113882,113886,113911,113913,
  705990,113409,113685,113854,113861,113381,113523,113591,113705,113860,113907,114440,
  113401,113321,113482,113679,113892,113274,113361,113377,113389,113478,113504,113512,
  113519,113546,113554,113562,113568,113576,113595,113614,113634,113660,113683,113731,
  113775,113793,113805,113826,113831,113859,113869,707139,113160,113161,113171,113176,
  113275,113280,113343,113344,113379,113403,113415,113417,113437,113448,113453,113466,
  113471,113476,113590,113618,113640,113641,113647,113681,113691,113694,113700,113750,
  113765,113803,113811,113856,113891,114437,114438,705996,705997,707138,4201201,4204368,
  4204369,4204370,4204372,4204490,4207801,4204485,4207418,4204371,4204373,4201202,4204219,
  114441,4204486,4201203,4204367,4207370,4208550,4208589,4208632,4209005,4209395,4209399,
  4209404,4209406,4209407,4209409,4209425,4209537,4209536,4210003,4210484,4212328,4212482,
  4212844,4212850,4211306,4211802,4211805,4209954,
  4209413,4213232,4213551,4213806,4214009,4214095,4214126,4214224,4214225,4214268,4214269) then AvtaleRHF_old=3;/*Helse Vest RHF*/

  Else if InstitusjonID in (4204492,113436,113721,113833,4204512,113175,113461,113563,
  113665,113666,113885,4201197,4204356,113425,113816,113901,4201229,113451,113536,113870,
  113560,113181,113818,113820,113243,113264,113537,113763,113800,113293,113607,4204160,
  113234,113254,113313,113380,113433,113458,113468,113487,113490,113555,113623,113639,
  113709,113728,113787,113804,113881,706532,113165,113188,113216,113257,113258,113272,113278,113372,
  113385,113387,113410,113443,113470,113532,113552,113657,113686,113720,113737,113738,
  113766,113801,113865,113879,113925,114409,706553,706554,707140,113213,113405,113533,
  113753,113159,113167,113168,113172,113191,113200,113214,113217,113247,113248,113250,
  113281,113301,113307,113312,113314,113317,113325,113350,113374,113383,113393,113396,
  113398,113421,113422,113426,113429,113445,113459,113462,113508,113514,113520,113524,
  113589,113592,113603,113604,113610,113631,113643,113664,113668,113692,113704,113708,
  113712,113717,113745,113747,113754,113759,113771,113781,113815,113838,113853,113864,
  113897,113910,113916,705976,705980,705982,706547,707143,707147,4201243,4201245,113178,
  113179,113190,113209,113220,113262,113268,113277,113291,113295,113337,113352,113363,
  113402,113423,113431,113446,113492,113502,113505,113522,113539,113540,113545,113548,
  113558,113564,113599,113601,113635,113636,113637,113670,113695,113696,113715,113724,
  113734,113806,113809,113836,113845,113883,113903,113918,113921,114411,114426,114427,
  707142,707145,707159,4201236,113510,113197,113208,113222,113244,113290,113356,113394,
  113469,113479,113480,113485,113526,113584,113828,113849,113851,113878,113888,113900,
  114412,114423,705979,705985,705986,113231,113285,113506,113673,113850,706558,113358,
  113411,113449,113499,113535,113606,113651,113699,113707,113742,113812,113813,113835,
  113871,113880,113924,113156,113302,113315,113486,113538,113602,113757,113791,113894,
  113909,114425,705987,113198,113261,113357,113412,113516,113571,113629,113633,113697,
  113823,113896,114422,705988,707144,113184,113201,113347,113353,113521,113642,113762,
  113844,113902,4201198,113914,113342,113439,113893,113166,113255,113288,113444,705983,
  4201234,113162,113189,113215,113226,113229,113273,113279,113511,113556,113569,113617,
  113626,113627,113650,113714,113726,113774,114408,4201230,4201231,113163,113354,113434,
  113507,113547,113566,113648,113654,113658,113497,113768,113790,113164,113210,113218,
  113319,113341,113517,113529,113615,113843,113876,114421,707141,113203,113225,113246,
  113252,113263,113267,113269,113276,113284,113287,113289,113300,113311,113326,113328,
  113329,113335,113345,113348,113362,113367,113368,113384,113388,113392,113413,113416,
  113427,113450,113481,113493,113500,113503,113528,113534,113541,113561,113565,113570,
  113575,113580,113586,113593,113596,113598,113600,113616,113619,113620,113622,113644,
  113652,113671,113690,113703,113713,113727,113751,113752,113760,113773,113780,113786,
  113796,113797,113798,113819,113825,113827,113855,113906,113915,113920,113922,114413,
  114424,115014,705977,705984,707148,4201247,113158,113169,113170,113174,113180,113185,
  113187,113205,113206,113207,113219,113230,113235,113237,113238,113240,113241,113245,
  113251,113265,113271,113283,113286,113292,113294,113304,113310,113322,113323,113334,
  113338,113339,113346,113355,113369,113370,113371,113373,113378,113382,113386,113390,
  113395,113404,113430,113432,113438,113442,113452,113455,113460,113464,113465,113472,
  113473,113488,113489,113491,113501,113509,113525,113559,113567,113573,113577,113582,
  113608,113609,113624,113632,113645,113646,113661,113662,113663,113667,113675,113677,
  113688,113693,113710,113711,113732,113733,113735,113739,113741,113746,113748,113755,
  113772,113779,113782,113789,113795,113814,113822,113824,113829,113837,113841,113842,
  113848,113852,113858,113868,113874,113875,113877,113887,113889,113895,114410,705978,
  705981,707146,4201235,4201237,4201241,4201315,4207536,4201200,4201371,4204438,4207442,
  4207841,4201246,4201233,4201406,4204119,4207428,4205054,4204354,4204355,4204437,
  4207830,4201244,4204353,4201232,4201337,4201396,4201398,4204487,4204493,4207405,
  4207829,4207840,4207906,4208003,706544,4201366,4204374,4207899,4208096,4208210,4208500,
  4208593,4208594,4208595,4208596,4208597,4208598,4208599,4208600,4208601,4208659,4208660,
  4208662,4208663,4208678,4208686,4208689,4208692,4208713,4208748,4208764,4208798,4208982,
  4209002,4209003,4209004,4209070,4209396,4209397,4209398,4209400,4209402,4209403,4209411,
  4209414,4209416,4209417,4209418,4209421,4209422,4209423,4209428,4209429,4209430,4209433,
  4209442,4209444,4209503,4209504,4209505,4209506,4209507,4209526,4210128,4210130,4210131,
  4210132,4210163,4210219,4210249,4210376,4210549,4210550,4210551,4210552,4210584,4210591,
  4211931,4212202,4212206,4212207,4212208,4212209,4212286,4212298,4212425,4212440,4212595,
  4212828,4212925,4212985,4210960,4211307,4211803,4211804,4211806,4211826,
   708753,4201392,4204435,4204436,4207828,4209408,4209424,4209426,4210071,4210129,4210553,
  4211964,4212201,4212923,4213011,4213408,4213811,4213833,4213866,4214014,4214017,4214047,
  4214048,4214100,4214292) then AvtaleRHF_old=4; /*Helse Sør-Øst-RHF*/

run;

%mend;